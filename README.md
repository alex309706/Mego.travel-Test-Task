# Mego.travel-Test-Task
Тестовое задание
Задание
Реализовать Web API приложение, которое имитирует 
поисковую систему, обращающуюся за данными во внешние 
поисковые системы.
Окружение
• Visual Studio 2019
• C#
• ASP.NET или ASP.NET Core
• Таргет на .NET Framework .NET 4.7.2 или .NET Core 3.1
• Библиотеки и nuget-пакеты: на свое усмотрение
Требования
1. Для имитации внешних поисковых систем, создаем классы: 
ExternalA, ExtrenalB, ExternalC, ExternalD.
2. У всех этих классов должен быть единый метод Request, 
который имитирует запрос во внешнюю систему:
o Нужно имитировать случайную длительность 
работы метода. Минимальная и максимальная 
границы длительности работы должны передаваться 
из метода Search.
o Метод после работы возвращает случайный 
результат OK или ERROR.
o Нужно собирать метрику [название системы, 
длительность обработки Request], чтобы потом 
вывести отчет по обработанным запросам (см. пункт 
4).
3. Создать api-метод GET Search:
Данный метод вызывает параллельно запросы в 
системах A, B, C.
o Если система C вернула результат OK, тогда 
отправляем запрос еще и в систему D.
o URL-параметры
/Search?wait=X&randomMin=Y&randomMax=Z
§ Х – время, в течение которого метод Search 
ждет ответы от всех внешних систем. Если 
система не ответила вовремя, мы не ждем ее 
результат. Общая длительность выполнения 
Search не должна превышать X более чем на 
100 мс.
§ Y – минимальное значения диапазона 
Random(). Передается в метод Request
системы.
§ Z – максимальное значение диапазона 
Random().Передается в метод Request
системы.
o Метод Search должен вернуть:
§ Список всех систем, с данными по каждой 
системе: название, результат выполнения 
запроса OK/ERROR/TIMEOUT, сколько это 
заняло времени в миллисекундах.
4. Создать api-метод GET Metrics, который должен выводить 
отчет: 
o Посекундная группировка (1 сек, 2 сек, ...) и 
названию системы, количество запросов внутри этой 
группы.
o Возвращать ответ в любом формате.
5. Подключить nuget пакет для описания и тестирования Web
API
Результат
• Solution с реализованным проектом Web API.
• Код заливаем на Github или Gitlab. Присылаем ссылку на 
залитый код.
o Будет плюсом, если коммиты будут отражать 
последовательность вашей работы
